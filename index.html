<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daftar Formulir</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; color: #1f2937; }
  </style>
</head>
<body class="p-8">

  <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
    <h1 class="text-3xl font-bold mb-6 text-center">Daftar Formulir</h1>
    <div id="form-list" class="space-y-4">
      <p id="loading-message" class="text-center text-gray-500">Memuat formulir...</p>
    </div>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAcFRkbZT3PD3BDObS-7T1769uH5Macvd0",
      authDomain: "reystore-support.firebaseapp.com",
      databaseURL: "https://reystore-support-default-rtdb.firebaseio.com",
      projectId: "reystore-support",
      storageBucket: "reystore-support.firebasestorage.app",
      messagingSenderId: "446513200960",
      appId: "1:446513200960:web:cbd40ca4315a8bf47044a5",
      measurementId: "G-YEBFKLREK5"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    
    const formListContainer = document.getElementById('form-list');
    const loadingMessage = document.getElementById('loading-message');

    database.ref('forms').once('value', (snapshot) => {
      const forms = snapshot.val();
      loadingMessage.style.display = 'none';

      if (forms) {
        Object.keys(forms).forEach(formId => {
          const formTitle = forms[formId].title || "Formulir Tanpa Judul";
          const formItem = document.createElement('a');
          formItem.href = `form.html?id=${formId}`;
          formItem.className = "block p-4 bg-gray-100 rounded-lg hover:bg-gray-200 transition";
          formItem.textContent = formTitle;
          formListContainer.appendChild(formItem);
        });
      } else {
        formListContainer.innerHTML = '<p class="text-center text-gray-500">Belum ada formulir.</p>';
      }
    });
  </script>

</body>
</html>
